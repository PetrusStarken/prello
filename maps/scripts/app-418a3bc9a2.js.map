{"version":3,"sources":["index.js","app/pages/board/board.js","app/core/services/storage.js","app/core/services/guid.js","app/components/list/list.js","app/components/card/card.js","templateCacheHtml.js"],"names":["angular","module","prelloBoardController","guidService","storageService","_addNewList","name","this","lists","push","guid","new","title","cards","newListName","$onInit","getTitle","getLists","addNewList","component","templateUrl","controller","storageServiceController","$localStorage","_getLists","_getTitle","_getListByGuid","find","list","_getCardsByListGuid","_getCardByGuid","card","listGuid","_addCard","_deleteCard","filter","c","getListByGuid","getCardsByListGuid","getCardByGuid","addCard","deleteCard","factory","guidServiceController","_new","replace","r","Math","random","toString","prelloListController","_addNewCard","newCardName","_onDragcard","_onDropCard","addNewCard","onDragCard","onDropCard","bindings","prelloCardController","_addDescription","description","newCardDescription","undefined","addDescription","run","$templateCache","put"],"mappings":"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","file":"../../scripts/app-418a3bc9a2.js","sourcesContent":["angular\n  .module('app', [\n    'ngDraggable',\n    'ngStorage'\n  ]);\n","(function (angular) {\n  'use strict';\n\n  angular.module('app').component('prelloBoard', {\n    templateUrl: 'app/pages/board/board.html',\n    controller: prelloBoardController\n  });\n\n  /** @ngInject */\n  function prelloBoardController(guidService, storageService) {\n    this.$onInit = function () {\n      this.title = storageService.getTitle();\n      this.lists = storageService.getLists();\n    };\n\n    this.addNewList = _addNewList;\n\n    function _addNewList(name) {\n      if (!name) {\n        return;\n      }\n\n      this.lists.push({\n        guid: guidService.new(),\n        title: name,\n        cards: []\n      });\n\n      delete this.newListName;\n    }\n  }\n})(angular);\n","(function (angular) {\n  'use strict';\n\n  angular.module('app').factory('storageService', storageServiceController);\n\n  /** @ngInject */\n  function storageServiceController($localStorage) {\n    this.getLists = _getLists;\n    this.getTitle = _getTitle;\n    this.getListByGuid = _getListByGuid;\n    this.getCardsByListGuid = _getCardsByListGuid;\n    this.getCardByGuid = _getCardByGuid;\n    this.addCard = _addCard;\n    this.deleteCard = _deleteCard;\n\n    return this;\n\n    function _getLists() {\n      if (!$localStorage.lists) {\n        $localStorage.lists = [];\n      }\n\n      return $localStorage.lists;\n    }\n\n    function _getTitle() {\n      return $localStorage.title || 'Default board';\n    }\n\n    function _getListByGuid(guid) {\n      return _getLists().find(function (list) {\n        return (list.guid === guid);\n      });\n    }\n\n    function _getCardsByListGuid(guid) {\n      return _getListByGuid(guid).cards;\n    }\n\n    function _getCardByGuid(card) {\n      return _getCardsByListGuid(card.listGuid).cards.find(function (card) {\n        return (card.guid === card.guid);\n      });\n    }\n\n    function _addCard(card) {\n      var list = _getListByGuid(card.listGuid);\n\n      list.cards.push(card);\n\n      return list.cards;\n    }\n\n    function _deleteCard(card) {\n      var list = _getListByGuid(card.listGuid);\n      list.cards = list.cards.filter(function (c) {\n        return (c.guid !== card.guid);\n      });\n\n      return list.cards;\n    }\n  }\n})(angular);\n","(function (angular) {\n  'use strict';\n\n  angular.module('app').factory('guidService', guidServiceController);\n\n  /** @ngInject */\n  function guidServiceController() {\n    var service = {\n      new: _new\n    };\n\n    return service;\n\n    /* eslint-disable no-mixed-operators, one-var, one-var-declaration-per-line */\n    function _new() {\n      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n      });\n    }\n  }\n})(angular);\n","(function (angular) {\n  'use strict';\n\n  angular.module('app').component('prelloList', {\n    templateUrl: 'app/components/list/list.html',\n    controller: prelloListController,\n    bindings: {\n      guid: '<'\n    }\n  });\n\n  /** @ngInject */\n  function prelloListController(guidService, storageService) {\n    this.$onInit = function () {\n      var list = storageService.getListByGuid(this.guid);\n\n      this.title = list.title;\n      this.guid = list.guid;\n      this.cards = list.cards;\n    };\n\n    this.addNewCard = _addNewCard;\n    this.addCard = _addCard;\n    this.deleteCard = _deleteCard;\n    this.onDragCard = _onDragcard;\n    this.onDropCard = _onDropCard;\n\n    function _addNewCard(name) {\n      if (!name) {\n        return;\n      }\n\n      this.addCard({\n        guid: guidService.new(),\n        listGuid: this.guid,\n        title: name\n      });\n\n      delete this.newCardName;\n    }\n\n    function _onDragcard(card) {\n      this.deleteCard(card);\n    }\n\n    function _onDropCard(card) {\n      card.listGuid = this.guid;\n      this.addCard(card);\n    }\n\n    function _deleteCard(card) {\n      this.cards = storageService.deleteCard(card);\n    }\n\n    function _addCard(card) {\n      this.cards = storageService.addCard(card);\n    }\n  }\n})(angular);\n","(function (angular) {\n  'use strict';\n\n  angular.module('app').component('prelloCard', {\n    templateUrl: 'app/components/card/card.html',\n    controller: prelloCardController,\n    bindings: {\n      card: '='\n    }\n  });\n\n  /** @ngInject */\n  function prelloCardController() {\n    this.$onInit = function () {\n      this.title = this.card.title;\n      this.description = undefined;\n    };\n\n    this.addDescription = _addDescription;\n\n    function _addDescription(description) {\n      if (!description) {\n        return;\n      }\n\n      this.description = description;\n\n      delete this.newCardDescription;\n    }\n  }\n})(angular);\n","angular.module('app').run(['$templateCache', function($templateCache) {$templateCache.put('app/components/card/card.html','<article class=\"card\">\\r\\n\\r\\n  <header ng-bind=\"$ctrl.title\" ng-click=\"$ctrl.edit = !$ctrl.edit\" ng-if=\"!edit\"></header>\\r\\n\\r\\n  <div class=\"detail\" ng-bind=\"$ctrl.description\" ng-if=\"$ctrl.description\"></div>\\r\\n\\r\\n  <!-- <form role=\"form\" ng-submit=\"$ctrl.addDescription($ctrl.newCardDescription)\" ng-if=\"!$ctrl.description\">\\r\\n    <md-input-container>\\r\\n      <input aria-label=\"Type the description for your card\" ng-model=\"$ctrl.newCardDescription\" placeholder=\"Add description\" autocomplete=\"off\">\\r\\n    </md-input-container>\\r\\n  </form> -->\\r\\n\\r\\n</article>');\n$templateCache.put('app/components/list/list.html','<section class=\"list\" ng-drop=\"true\" ng-drop-success=\"$ctrl.onDropCard($data)\">\\n  <header ng-bind=\"$ctrl.title\"></header>\\n\\n  <prello-card ng-repeat=\"card in $ctrl.cards\" card=\"card\" ng-drag=\"true\" ng-drag-data=\"card\" ng-drag-success=\"$ctrl.onDragCard($data)\"></prello-card>\\n\\n  <form role=\"form\" ng-submit=\"$ctrl.addNewCard($ctrl.newCardName)\">\\n    <input aria-label=\"Type the name for your new card\" ng-model=\"$ctrl.newCardName\" placeholder=\"Add new card...\" autocomplete=\"off\" class=\"input-new\">\\n  </form>\\n</section>');\n$templateCache.put('app/pages/board/board.html','<h1 ng-bind=\"$ctrl.title\"></h1>\\r\\n\\r\\n<section class=\"lists\">\\r\\n  <prello-list ng-repeat=\"list in $ctrl.lists\" guid=\"list.guid\"></prello-list>\\r\\n\\r\\n  <form role=\"form\" ng-submit=\"$ctrl.addNewList($ctrl.newListName)\">\\r\\n    <input aria-label=\"Type the name for your new list\" ng-model=\"$ctrl.newListName\" placeholder=\"Add new list...\" class=\"input-new\">\\r\\n  </form>\\r\\n</section>');}]);"]}